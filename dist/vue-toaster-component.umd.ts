(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r["vue-toaster-component"]={},r.Vue))})(this,function(r,e){"use strict";var S=Object.defineProperty;var x=(r,e,u)=>e in r?S(r,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[e]=u;var f=(r,e,u)=>(x(r,typeof e!="symbol"?e+"":e,u),u);class u{constructor(n,t){f(this,"startedAt");f(this,"callback");f(this,"delay");f(this,"timer");this.startedAt=Date.now(),this.callback=n,this.delay=t,this.timer=setTimeout(n,t)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const E=["src"],k=["src"],C=["src"],b=["src"],w={class:"toaster-text"},M={class:"body-text-bold"},P={class:"fine-print"},h=e.defineComponent({__name:"ToasterComponent",props:{toaster:{default:()=>({title:"",message:"",type:"success"})},queue:{type:Boolean,default:!0},duration:{default:4e3},dismissible:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!0},onClick:null,onDismiss:null,position:{default:"top-right"}},setup(i){const n=i,t={TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"},d=e.ref(!1),a=e.ref(null),l=e.ref(null),c=e.ref(),p=e.ref(),y=e.ref(),N=e.computed(()=>{switch(n.position){case t.TOP:case t.TOP_RIGHT:case t.TOP_LEFT:return a.value;case t.BOTTOM:case t.BOTTOM_RIGHT:case t.BOTTOM_LEFT:return l.value;default:return a.value}}),O=e.computed(()=>{switch(n.position){case t.TOP:case t.TOP_RIGHT:case t.TOP_LEFT:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"};case t.BOTTOM:case t.BOTTOM_RIGHT:case t.BOTTOM_LEFT:return{enter:"toaster-fade-in-up",leave:"toaster-fade-out"};default:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"}}});e.onMounted(()=>{D(),g()}),e.onBeforeUnmount(()=>{T()});function D(){if(a.value=document.querySelector(".toaster.toaster-top"),l.value=document.querySelector(".toaster.toaster-bottom"),a.value&&l.value)return;a.value||(a.value=document.createElement("div"),a.value.className="toaster toaster-top"),l.value||(l.value=document.createElement("div"),l.value.className="toaster toaster-bottom");const s=document.body;s.appendChild(a.value),s.appendChild(l.value)}function H(){var s,o;return n.queue?a.value&&((s=a.value)==null?void 0:s.childElementCount)>0||l.value&&((o=l.value)==null?void 0:o.childElementCount)>0:!1}function T(...s){c.value&&c.value.stop(),clearTimeout(y.value),d.value=!1,setTimeout(()=>{var m;(m=n.onDismiss)==null||m.apply(null,s);const o=p.value;o&&(e.render(null,o),B(o))},150)}function g(){var o,m;if(H()){y.value=setTimeout(g,250);return}const s=(o=p.value)==null?void 0:o.parentElement;(m=N.value)==null||m.insertAdjacentElement("afterbegin",p.value),B(s),d.value=!0,n.duration&&(c.value=new u(T,n.duration))}function L(...s){var o;n.dismissible&&((o=n.onClick)==null||o.apply(null,s),T())}function _(s){!n.pauseOnHover||!c.value||(s?c.value.pause():c.value.resume())}function B(s){var o;typeof s.remove<"u"?s.remove():(o=s.parentNode)==null||o.removeChild(s)}return(s,o)=>(e.openBlock(),e.createBlock(e.Transition,{"enter-active-class":e.unref(O).enter,"leave-active-class":e.unref(O).leave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{ref_key:"toasterMessage",ref:p,role:"alert",class:e.normalizeClass(["toaster-message",[`toaster-position-${i.position}`]]),onMouseover:o[0]||(o[0]=m=>_(!0)),onMouseleave:o[1]||(o[1]=m=>_(!1))},[i.toaster.type==="error"?(e.openBlock(),e.createElementBlock("img",{key:0,src:require("@/icons/errorToaster.svg")},null,8,E)):i.toaster.type==="success"?(e.openBlock(),e.createElementBlock("img",{key:1,src:require("@/icons/successToaster.svg")},null,8,k)):i.toaster.type==="info"?(e.openBlock(),e.createElementBlock("img",{key:2,src:require("@/icons/infoToaster.svg")},null,8,C)):i.toaster.type==="warning"?(e.openBlock(),e.createElementBlock("img",{key:3,src:require("@/icons/warningToaster.svg")},null,8,b)):e.createCommentVNode("",!0),e.createElementVNode("div",w,[e.createElementVNode("p",M,e.toDisplayString(i.toaster.title),1),e.createElementVNode("p",P,e.toDisplayString(i.toaster.message),1)]),e.createElementVNode("div",{class:"close-toaster",onClick:L})],34),[[e.vShow,d.value]])]),_:1},8,["enter-active-class","leave-active-class"]))}}),A="",v=(i={})=>({addToast(n){const d=Object.assign({},{toaster:n},i),a=this.createComponent(h,d,document.body);return{dismiss:a==null?void 0:a.ctx.dismiss}},createComponent(n,t,d,a={}){const l=e.h(n,t,a),c=document.createElement("div");return c.classList.add("toaster-pending"),d.appendChild(c),e.render(l,c),l.component}}),q={install(i,n={}){const t=v(n);i.config.globalProperties.$toast=t,i.provide("$toast",t)}};r.ToastComponent=h,r.default=q,r.useToaster=v,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
