(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i["vue-toaster-component"]={},i.Vue))})(this,function(i,e){"use strict";var L=Object.defineProperty;var S=(i,e,d)=>e in i?L(i,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[e]=d;var f=(i,e,d)=>(S(i,typeof e!="symbol"?e+"":e,d),d);class d{constructor(o,t){f(this,"startedAt");f(this,"callback");f(this,"delay");f(this,"timer");this.startedAt=Date.now(),this.callback=o,this.delay=t,this.timer=setTimeout(o,t)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const E=["src"],k=["src"],C=["src"],b=["src"],w={class:"toaster-text"},M={class:"body-text-bold"},P={class:"fine-print"},q=e.defineComponent({__name:"ToasterComponent",props:{toaster:{default:()=>({title:"",message:"",type:"success"})},queue:{type:Boolean,default:!0},duration:{default:4e3},dismissible:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!0},onClick:null,onDismiss:null,position:{default:"top-right"}},setup(a){const o=a,t={TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"},u=e.ref(!1),r=e.ref(null),l=e.ref(null),c=e.ref(),p=e.ref(),_=e.ref(),D=e.computed(()=>{switch(o.position){case t.TOP:case t.TOP_RIGHT:case t.TOP_LEFT:return r.value;case t.BOTTOM:case t.BOTTOM_RIGHT:case t.BOTTOM_LEFT:return l.value;default:return r.value}}),y=e.computed(()=>{switch(o.position){case t.TOP:case t.TOP_RIGHT:case t.TOP_LEFT:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"};case t.BOTTOM:case t.BOTTOM_RIGHT:case t.BOTTOM_LEFT:return{enter:"toaster-fade-in-up",leave:"toaster-fade-out"};default:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"}}});e.onMounted(()=>{x(),O()}),e.onBeforeUnmount(()=>{v()});function x(){if(r.value=document.querySelector(".toaster.toaster-top"),l.value=document.querySelector(".toaster.toaster-bottom"),r.value&&l.value)return;r.value||(r.value=document.createElement("div"),r.value.className="toaster toaster-top"),l.value||(l.value=document.createElement("div"),l.value.className="toaster toaster-bottom");const n=document.body;n.appendChild(r.value),n.appendChild(l.value)}function H(){var n,s;return o.queue?r.value&&((n=r.value)==null?void 0:n.childElementCount)>0||l.value&&((s=l.value)==null?void 0:s.childElementCount)>0:!1}function v(...n){c.value&&c.value.stop(),clearTimeout(_.value),u.value=!1,setTimeout(()=>{var m;(m=o.onDismiss)==null||m.apply(null,n);const s=p.value;s&&(e.render(null,s),B(s))},150)}function O(){var s,m;if(H()){_.value=setTimeout(O,250);return}const n=(s=p.value)==null?void 0:s.parentElement;(m=D.value)==null||m.insertAdjacentElement("afterbegin",p.value),B(n),u.value=!0,o.duration&&(c.value=new d(v,o.duration))}function I(...n){var s;o.dismissible&&((s=o.onClick)==null||s.apply(null,n),v())}function g(n){!o.pauseOnHover||!c.value||(n?c.value.pause():c.value.resume())}function B(n){var s;typeof n.remove<"u"?n.remove():(s=n.parentNode)==null||s.removeChild(n)}return(n,s)=>(e.openBlock(),e.createBlock(e.Transition,{"enter-active-class":e.unref(y).enter,"leave-active-class":e.unref(y).leave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{ref_key:"toasterMessage",ref:p,role:"alert",class:e.normalizeClass(["toaster-message",[`toaster-position-${a.position}`]]),onMouseover:s[0]||(s[0]=m=>g(!0)),onMouseleave:s[1]||(s[1]=m=>g(!1))},[a.toaster.type==="error"?(e.openBlock(),e.createElementBlock("img",{key:0,src:require("@/icons/errorToaster.svg")},null,8,E)):a.toaster.type==="success"?(e.openBlock(),e.createElementBlock("img",{key:1,src:require("@/icons/successToaster.svg")},null,8,k)):a.toaster.type==="info"?(e.openBlock(),e.createElementBlock("img",{key:2,src:require("@/icons/infoToaster.svg")},null,8,C)):a.toaster.type==="warning"?(e.openBlock(),e.createElementBlock("img",{key:3,src:require("@/icons/warningToaster.svg")},null,8,b)):e.createCommentVNode("",!0),e.createElementVNode("div",w,[e.createElementVNode("p",M,e.toDisplayString(a.toaster.title),1),e.createElementVNode("p",P,e.toDisplayString(a.toaster.message),1)]),e.createElementVNode("div",{class:"close-toaster",onClick:I})],34),[[e.vShow,u.value]])]),_:1},8,["enter-active-class","leave-active-class"]))}}),V="",T=((a,o)=>{const t=a.__vccOpts||a;for(const[u,r]of o)t[u]=r;return t})(q,[["__scopeId","data-v-aa1470d1"]]),h=(a={})=>({addToast(o){const u=Object.assign({},{toaster:o},a),r=this.createComponent(T,u,document.body);return{dismiss:r==null?void 0:r.ctx.dismiss}},createComponent(o,t,u,r={}){const l=e.h(o,t,r),c=document.createElement("div");return c.classList.add("toaster-pending"),u.appendChild(c),e.render(l,c),l.component}}),N={install(a,o={}){const t=h(o);a.config.globalProperties.$toast=t,a.provide("$toast",t),a.component("ToastComponent",T)}};i.ToastComponent=T,i.default=N,i.useToaster=h,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
