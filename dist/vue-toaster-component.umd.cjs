(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r["vue-toaster-component"]={},r.Vue))})(this,function(r,e){"use strict";var S=Object.defineProperty;var w=(r,e,u)=>e in r?S(r,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[e]=u;var m=(r,e,u)=>(w(r,typeof e!="symbol"?e+"":e,u),u);const u="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2Ljg2MzMiIHI9IjE2IiBmaWxsPSIjRkY2NTY1Ii8+CjxwYXRoIGQ9Ik05LjkyNzczIDEwLjM2MzNMMjMuOTI3NyAyNC4zNjMzIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIuNjI1Ii8+CjxwYXRoIGQ9Ik0yMy45Mjc3IDEwLjM2MzNMOS45Mjc3MyAyNC4zNjMzIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIuNjI1Ii8+Cjwvc3ZnPgo=",v="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2LjM2MzMiIHI9IjE2IiBmaWxsPSIjN0NEOTIwIi8+CjxwYXRoIGQ9Ik04LjkyNzczIDE2Ljk0MzlMMTQuODgxMiAyMi4zNjMzTDI0LjkyNzcgMTAuMzYzMyIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIzIi8+Cjwvc3ZnPgo=",b="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2Ljg2MzMiIHI9IjE2IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMTYuOTI3NyAxNi44NjMzKSIgZmlsbD0iIzFDNjlENCIvPgo8cGF0aCBkPSJNMTYuOTI3NyAyNC4zNjUyTDE2LjkyNzcgMTQuMzY1MiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxwYXRoIGQ9Ik0xNi45Mjc3IDguMzY1MjNMMTYuOTI3NyAxMS4zNjUyIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==",h="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2Ljg2MzMiIHI9IjE2IiBmaWxsPSIjRkZDMzRGIi8+CjxwYXRoIGQ9Ik0xNi45Mjc3IDkuMzYzMjhWMTkuMzYzMyIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxwYXRoIGQ9Ik0xNi45Mjc3IDI1LjM2MzNMMTYuOTI3NyAyMi4zNjMzIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==";class C{constructor(o,t){m(this,"startedAt");m(this,"callback");m(this,"delay");m(this,"timer");this.startedAt=Date.now(),this.callback=o,this.delay=t,this.timer=setTimeout(o,t)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const k={key:0,src:u},B={key:1,src:v},O={key:2,src:b},_={key:3,src:h},D={class:"toaster-text"},Z={class:"body-text-bold"},P={class:"fine-print"},E=e.defineComponent({__name:"ToasterComponent",props:{toaster:{default:()=>({title:"",message:"",type:"success"})},queue:{type:Boolean,default:!0},duration:{default:4e3},dismissible:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!0},onClick:null,onDismiss:null,position:{default:"top-right"}},setup(n){const o=n,t={TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"},d=e.ref(!1),i=e.ref(null),l=e.ref(null),c=e.ref(),M=e.ref(),f=e.ref(),H=e.computed(()=>{switch(o.position){case t.TOP:case t.TOP_RIGHT:case t.TOP_LEFT:return i.value;case t.BOTTOM:case t.BOTTOM_RIGHT:case t.BOTTOM_LEFT:return l.value;default:return i.value}}),g=e.computed(()=>{switch(o.position){case t.TOP:case t.TOP_RIGHT:case t.TOP_LEFT:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"};case t.BOTTOM:case t.BOTTOM_RIGHT:case t.BOTTOM_LEFT:return{enter:"toaster-fade-in-up",leave:"toaster-fade-out"};default:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"}}});e.onMounted(()=>{G(),z()}),e.onBeforeUnmount(()=>{T()});function G(){if(i.value=document.querySelector(".toaster.toaster-top"),l.value=document.querySelector(".toaster.toaster-bottom"),i.value&&l.value)return;i.value||(i.value=document.createElement("div"),i.value.className="toaster toaster-top"),l.value||(l.value=document.createElement("div"),l.value.className="toaster toaster-bottom");const a=document.body;a.appendChild(i.value),a.appendChild(l.value)}function L(){var a,s;return o.queue?i.value&&((a=i.value)==null?void 0:a.childElementCount)>0||l.value&&((s=l.value)==null?void 0:s.childElementCount)>0:!1}function T(...a){c.value&&c.value.stop(),clearTimeout(f.value),d.value=!1,setTimeout(()=>{var I;(I=o.onDismiss)==null||I.apply(null,a);const s=M.value;s&&(e.render(null,s),N(s))},150)}function z(){var s,I;if(L()){f.value=setTimeout(z,250);return}const a=(s=M.value)==null?void 0:s.parentElement;(I=H.value)==null||I.insertAdjacentElement("afterbegin",M.value),N(a),d.value=!0,o.duration&&(c.value=new C(T,o.duration))}function R(...a){var s;o.dismissible&&((s=o.onClick)==null||s.apply(null,a),T())}function j(a){!o.pauseOnHover||!c.value||(a?c.value.pause():c.value.resume())}function N(a){var s;typeof a.remove<"u"?a.remove():(s=a.parentNode)==null||s.removeChild(a)}return(a,s)=>(e.openBlock(),e.createBlock(e.Transition,{"enter-active-class":e.unref(g).enter,"leave-active-class":e.unref(g).leave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{ref_key:"toasterMessage",ref:M,role:"alert",class:e.normalizeClass(["toaster-message",[`toaster-position-${n.position}`]]),onMouseover:s[0]||(s[0]=I=>j(!0)),onMouseleave:s[1]||(s[1]=I=>j(!1))},[n.toaster.type==="error"?(e.openBlock(),e.createElementBlock("img",k)):n.toaster.type==="success"?(e.openBlock(),e.createElementBlock("img",B)):n.toaster.type==="info"?(e.openBlock(),e.createElementBlock("img",O)):n.toaster.type==="warning"?(e.openBlock(),e.createElementBlock("img",_)):e.createCommentVNode("",!0),e.createElementVNode("div",D,[e.createElementVNode("p",Z,e.toDisplayString(n.toaster.title),1),e.createElementVNode("p",P,e.toDisplayString(n.toaster.message),1)]),e.createElementVNode("div",{class:"close-toaster",onClick:R})],34),[[e.vShow,d.value]])]),_:1},8,["enter-active-class","leave-active-class"]))}}),x="",p=((n,o)=>{const t=n.__vccOpts||n;for(const[d,i]of o)t[d]=i;return t})(E,[["__scopeId","data-v-9c9f4683"]]),y=(n={})=>({addToast(o){const d=Object.assign({},{toaster:o},n),i=this.createComponent(p,d,document.body);return{dismiss:i==null?void 0:i.ctx.dismiss}},createComponent(o,t,d,i={}){const l=e.h(o,t,i),c=document.createElement("div");return c.classList.add("toaster-pending"),d.appendChild(c),e.render(l,c),l.component}}),A={install(n,o={}){const t=y(o);n.config.globalProperties.$toast=t,n.provide("$toast",t),n.component("ToastComponent",p)}};r.ToastComponent=p,r.default=A,r.useToaster=y,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
