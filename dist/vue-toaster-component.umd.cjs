(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i["vue-toaster-component"]={},i.Vue))})(this,function(i,e){"use strict";var R=Object.defineProperty;var S=(i,e,d)=>e in i?R(i,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):i[e]=d;var m=(i,e,d)=>(S(i,typeof e!="symbol"?e+"":e,d),d);const d="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2Ljg2MzMiIHI9IjE2IiBmaWxsPSIjRkY2NTY1Ii8+CjxwYXRoIGQ9Ik05LjkyNzczIDEwLjM2MzNMMjMuOTI3NyAyNC4zNjMzIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIuNjI1Ii8+CjxwYXRoIGQ9Ik0yMy45Mjc3IDEwLjM2MzNMOS45Mjc3MyAyNC4zNjMzIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIuNjI1Ii8+Cjwvc3ZnPgo=",j="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2LjM2MzMiIHI9IjE2IiBmaWxsPSIjN0NEOTIwIi8+CjxwYXRoIGQ9Ik04LjkyNzczIDE2Ljk0MzlMMTQuODgxMiAyMi4zNjMzTDI0LjkyNzcgMTAuMzYzMyIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIzIi8+Cjwvc3ZnPgo=",N="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2Ljg2MzMiIHI9IjE2IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMTYuOTI3NyAxNi44NjMzKSIgZmlsbD0iIzFDNjlENCIvPgo8cGF0aCBkPSJNMTYuOTI3NyAyNC4zNjUyTDE2LjkyNzcgMTQuMzY1MiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxwYXRoIGQ9Ik0xNi45Mjc3IDguMzY1MjNMMTYuOTI3NyAxMS4zNjUyIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==",v="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzMiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMyAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTYuOTI3NyIgY3k9IjE2Ljg2MzMiIHI9IjE2IiBmaWxsPSIjRkZDMzRGIi8+CjxwYXRoIGQ9Ik0xNi45Mjc3IDkuMzYzMjhWMTkuMzYzMyIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxwYXRoIGQ9Ik0xNi45Mjc3IDI1LjM2MzNMMTYuOTI3NyAyMi4zNjMzIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==";class b{constructor(a,s){m(this,"startedAt");m(this,"callback");m(this,"delay");m(this,"timer");this.startedAt=Date.now(),this.callback=a,this.delay=s,this.timer=setTimeout(a,s)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const h={key:0,src:d},k={key:1,src:j},B={key:2,src:N},C={key:3,src:v},O={class:"toaster-text"},D={class:"body-text-bold"},Z={class:"fine-print"},E=e.defineComponent({__name:"ToasterComponent",props:{toaster:{default:()=>({title:"",message:"",type:"success"})},queue:{type:Boolean,default:!0},duration:{default:4e5},dismissible:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!0},onClick:null,onDismiss:null,position:{default:"top-right"}},setup(l){const a=l,s={TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"},u=e.ref(!1),n=e.ref(null),r=e.ref(null),c=e.ref(),M=e.ref(),T=e.ref(),A=e.computed(()=>{switch(a.position){case s.TOP:case s.TOP_RIGHT:case s.TOP_LEFT:return n.value;case s.BOTTOM:case s.BOTTOM_RIGHT:case s.BOTTOM_LEFT:return r.value;default:return n.value}}),y=e.computed(()=>{switch(a.position){case s.TOP:case s.TOP_RIGHT:case s.TOP_LEFT:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"};case s.BOTTOM:case s.BOTTOM_RIGHT:case s.BOTTOM_LEFT:return{enter:"toaster-fade-in-up",leave:"toaster-fade-out"};default:return{enter:"toaster-fade-in-down",leave:"toaster-fade-out"}}});e.onMounted(()=>{H(),g()}),e.onBeforeUnmount(()=>{p()});function H(){if(n.value=document.querySelector(".toaster.toaster-top"),r.value=document.querySelector(".toaster.toaster-bottom"),n.value&&r.value)return;n.value||(n.value=document.createElement("div"),n.value.className="toaster toaster-top"),r.value||(r.value=document.createElement("div"),r.value.className="toaster toaster-bottom");const o=document.body;o.appendChild(n.value),o.appendChild(r.value)}function G(){var o,t;return a.queue?n.value&&((o=n.value)==null?void 0:o.childElementCount)>0||r.value&&((t=r.value)==null?void 0:t.childElementCount)>0:!1}function p(...o){c.value&&c.value.stop(),clearTimeout(T.value),u.value=!1,setTimeout(()=>{var I;(I=a.onDismiss)==null||I.apply(null,o);const t=M.value;t&&(e.render(null,t),f(t))},150)}function g(){var t,I;if(G()){T.value=setTimeout(g,250);return}const o=(t=M.value)==null?void 0:t.parentElement;(I=A.value)==null||I.insertAdjacentElement("afterbegin",M.value),f(o),u.value=!0,a.duration&&(c.value=new b(p,a.duration))}function L(...o){var t;a.dismissible&&((t=a.onClick)==null||t.apply(null,o),p())}function z(o){!a.pauseOnHover||!c.value||(o?c.value.pause():c.value.resume())}function f(o){var t;typeof o.remove<"u"?o.remove():(t=o.parentNode)==null||t.removeChild(o)}return(o,t)=>(e.openBlock(),e.createBlock(e.Transition,{"enter-active-class":e.unref(y).enter,"leave-active-class":e.unref(y).leave},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{ref_key:"toasterMessage",ref:M,role:"alert",class:e.normalizeClass(["toaster-message",[`toaster-position-${l.position}`]]),onMouseover:t[0]||(t[0]=I=>z(!0)),onMouseleave:t[1]||(t[1]=I=>z(!1))},[l.toaster.type==="error"?(e.openBlock(),e.createElementBlock("img",h)):l.toaster.type==="success"?(e.openBlock(),e.createElementBlock("img",k)):l.toaster.type==="info"?(e.openBlock(),e.createElementBlock("img",B)):l.toaster.type==="warning"?(e.openBlock(),e.createElementBlock("img",C)):e.createCommentVNode("",!0),e.createElementVNode("div",O,[e.createElementVNode("p",D,e.toDisplayString(l.toaster.title),1),e.createElementVNode("p",Z,e.toDisplayString(l.toaster.message),1)]),e.createElementVNode("div",{class:"close-toaster",onClick:L})],34),[[e.vShow,u.value]])]),_:1},8,["enter-active-class","leave-active-class"]))}}),w="",P=(l={})=>({addToast(a){const u=Object.assign({},{toaster:a},l),n=this.createComponent(E,u,document.body);return{dismiss:n==null?void 0:n.ctx.dismiss}},createComponent(a,s,u,n={}){const r=e.h(a,s,n),c=document.createElement("div");return c.classList.add("toaster-pending"),u.appendChild(c),e.render(r,c),r.component}});i.useToaster=P,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
